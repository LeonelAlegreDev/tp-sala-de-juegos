<div id="viewport" #viewport>
    @if(gameState === 'start'){
    <section class="screen screen-start">
        <h1>Ahorcado</h1>
        <h2>¡Adivina la palabra antes de que sea demasiado tarde!</h2>
        <p>
            Pon a prueba tu vocabulario y tu habilidad para deducir
            palabras en este clásico juego. ¡Elige entre diferentes
            categorías y niveles de dificultad!
            <br>

            <strong>¿Lograrás descifrar la palabra antes de que sea
                demasiado tarde?</strong>
        </p>
        <button (click)="Start()">Jugar</button>
        <button (click)="VerPuntuacion()">Ver tabla de puntajes</button>
    </section>
    }
    @else if(gameState === 'playing'){
    <section class="screen screen-playing">
        <!-- PALABRA -->
        <div id="palabra">
            <div *ngFor="let letra of run.palabra">
                @if(letra.adivinada){
                <span>{{ letra.valor }}</span>
                }
                @else{
                <span>_</span>
                }
            </div>
        </div>

        <!-- TECLADO -->
        <div id="teclado">
            <div *ngFor="let row of teclado" class="row">
                <div #letra *ngFor="let letra of row" class="letra" (click)="Adivinar(letra)">
                    {{ letra }}
                </div>
            </div>
        </div>

        <!-- CHARACTER -->
        <div id="character" #character>
            <img #part class="part" src="../../../../assets/images/ahorcado/cabeza.png">
            <!-- <span id="soga"></span> -->
            <svg #part class="part" id="Layer_1" viewBox="0 0 1200 1200" xml:space="preserve">
                <path fill="#522300"
                    d="M840.485 225.041C782.033 51.401 719.803 68.647 704.732 76.011c-62.115 41.817-97.56 44.869-104.657 45.059-6.563-.115-42.084-2.862-104.81-45.059-15.071-7.364-77.3-24.61-135.791 149.03-9.844 43.534-21.29 102.177-29.951 148.077 28.349 13.583 105.764 41.32 269.255 44.374.42.037.801.037 1.221.037s.801 0 1.221-.037c163.491-3.053 240.906-30.791 269.255-44.374-8.662-45.899-20.108-104.543-29.99-148.077zm-327.096-49.486c-3.93 6.067-8.775 11.561-14.308 16.292-5.494 4.731-11.713 8.623-18.314 11.599-6.601 2.938-13.621 4.922-20.794 5.303 6.296-3.434 12.248-6.792 17.971-10.531 5.685-3.739 11.065-7.821 16.177-12.171a163.423 163.423 0 0 0 14.537-14.117c4.54-5.075 8.814-10.454 13.201-16.101-1.488 7.021-4.54 13.66-8.47 19.726zm200.233 27.891a76.626 76.626 0 0 1-18.314-11.599 75.368 75.368 0 0 1-14.27-16.292c-3.93-6.066-6.982-12.706-8.508-19.725 4.388 5.647 8.661 11.026 13.24 16.101 4.54 5.037 9.424 9.73 14.499 14.117 5.113 4.35 10.492 8.432 16.216 12.171 5.685 3.739 11.675 7.097 17.971 10.531-7.175-.382-14.233-2.366-20.834-5.304z" />
                <path
                    d="M1142.323 347.555c-7.059-13.316-18.2-21.481-32.355-23.694-4.235-2.06-54.484-22.626-192.297 77.491-11.98 8.699-24.648 18.352-37.62 28.654a948.518 948.518 0 0 0-9.539 7.669c-25.64 18.314-130.106 70.7-269.293 71.311h-2.442c-139.187-.611-243.653-52.997-269.178-71.235-3.281-2.632-6.486-5.227-9.653-7.745-12.973-10.301-25.64-19.955-37.62-28.654-137.584-99.964-187.91-79.627-192.297-77.491-14.117 2.174-25.334 10.378-32.355 23.694-12.972 24.533-9.348 62.649 9.73 102.063 55.553 104.428 206.453 113.738 257.961 113.738.916 0 1.793 0 2.633-.039 19.993 79.667 84.588 279.824 257.579 451.938.038-.382.114-.764.229-1.145 1.068-4.312 4.197-7.975 8.318-9.768.42-.191.801-.344 1.221-.457-46.09-45.213-194.052-205.042-244.378-435.608-6.372-4.769-12.553-9.881-18.39-15.3a203.133 203.133 0 0 1-4.159-3.929 201.228 201.228 0 0 1-4.998-4.922c-19.459-19.535-36.247-41.474-53.149-62.917-19.306-24.99-38.231-50.134-58.91-73.713-20.641-23.655-43.343-45.519-69.288-63.603 27.509 15.566 52.08 36.399 73.638 59.596 21.862 23.045 41.168 48.189 60.589 73.027a1728.327 1728.327 0 0 0 29.188 37.124c8.356 10.341 17.017 20.451 26.212 29.951l.038.038a209.02 209.02 0 0 0 4.96 5.037c4.044 4.006 8.241 7.86 12.553 11.599 16.33 14.079 34.339 26.364 52.462 38.421.076.039.153.076.191.115 93.02 50.097 186.002 46.777 197.983 46.091 2.022.115 6.295.306 12.438.306 28.984 0 99.518-4.098 172.587-39.688l.328-.183c26.288-17.437 52.92-34.683 75.088-56.659 11.026-10.988 21.328-22.816 31.172-35.026a1728.327 1728.327 0 0 0 29.188-37.124c19.421-24.838 38.727-49.982 60.589-73.027 21.557-23.197 46.129-44.03 73.638-59.596-25.945 18.084-48.647 39.947-69.25 63.603-20.718 23.579-39.642 48.723-58.948 73.713-1.984 2.481-3.93 4.998-5.914 7.517a1795.79 1795.79 0 0 1-11.103 14.079 654.267 654.267 0 0 1-14.041 17.093 154.869 154.869 0 0 1-4.159 4.807c-.496.687-1.107 1.335-1.717 1.984-1.832 2.175-3.739 4.273-5.723 6.371-2.137 2.366-4.35 4.693-6.601 7.021-.115.229-.344.419-.611.648-1.412 1.526-2.938 3.053-4.464 4.579v.037a377.085 377.085 0 0 1-7.974 7.631c-4.769 4.427-9.729 8.585-14.842 12.553-49.677 232.054-198.669 392.951-244.95 438.355.42.114.839.266 1.221.457a14.643 14.643 0 0 1 8.356 9.806c.114.382.191.763.191 1.145 172.988-172.154 237.66-372.349 257.653-451.977.839.039 1.717.039 2.595.039 51.508 0 202.408-9.31 257.961-113.738.038-.038.038-.076.038-.076 19.038-39.338 22.663-77.454 9.69-101.987zm-536.41 683.61c-1.984.801-3.93 1.183-5.952 1.183-1.946 0-3.892-.382-5.799-1.145-.916-.457-1.717-.877-2.442-1.411-.305-.191-.572-.42-.839-.649v92.067c0 3.892 4.083 7.02 9.081 7.02 5.113 0 9.119-3.052 9.119-7.02v-91.99c-.229.229-.534.42-.801.61-.727.495-1.566.915-2.367 1.335z"
                    fill="#522300" />
                <path fill="#522300"
                    d="M610.797 1017.734c0 3.663-1.717 6.906-4.693 8.967-.572.381-1.221.687-1.755.954a11.259 11.259 0 0 1-8.623.038c-.305-.153-.649-.305-.954-.458-.305-.191-.572-.381-.878-.572-3.014-2.022-4.731-5.266-4.731-8.928 0-.954.114-1.831.343-2.671.801-3.205 3.091-5.914 6.143-7.25a10.555 10.555 0 0 1 4.311-.915c1.526 0 2.976.305 4.35.915 3.052 1.336 5.38 4.045 6.181 7.288.229.801.306 1.678.306 2.632z" />
            </svg>
            <img #part class="part" src="../../../../assets/images/ahorcado/brazo-izq.png">
            <img #part class="part" src="../../../../assets/images/ahorcado/brazo-der.png">
            <img #part class="part" src="../../../../assets/images/ahorcado/torso.png">
            <img #part class="part" src="../../../../assets/images/ahorcado/pierna-izq.png">
            <img #part class="part" src="../../../../assets/images/ahorcado/pierna-der.png">
        </div>
    </section>
    }
    @else if(gameState === 'dificulty'){
    <section class="screen screen-dificult">
        <h1>Seleccionar dificultad</h1>
        <div class="column">
            <button (click)="ElegirPalabra('facil')">Fácil</button>
            <button (click)="ElegirPalabra('medio')">Medio</button>
            <button (click)="ElegirPalabra('dificil')">Difícil</button>
        </div>
    </section>
    }
    <!-- SCREEN END -->
    @else if(gameState === 'end'){
    <section class="screen screen-end" #screenEnd>
        <h1>¡Fin del juego!</h1>

        @if(run.result === 'win'){
        <h2>¡Felicidades! ¡Has adivinado la palabra!</h2>
        <span>Puntuación: <strong>1234</strong></span>
        <button (click)="Continuar()">Continuar</button>
        }
        @else if(run.result === 'lose'){
        <h2>¡Oh no! ¡Has sido ahorcado!</h2>
        <button (click)="Restart()">Jugar de nuevo</button>
        }
    </section>
    }
    @else if(gameState === 'score'){
    <section class="screen screen-score">
        <h1>Tabla de Puntajes</h1>

        <table>
            <thead>
                <tr>
                    <th>Posición</th>
                    <th>Usuario</th>
                    <th>Puntaje</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>JugadorEstrella</td>
                    <td>15000</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>GamerPro_23</td>
                    <td>12850</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Silv3rBullet</td>
                    <td>10900</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>XPert</td>
                    <td>9500</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>ElRayo</td>
                    <td>8200</td>
                </tr>
            </tbody>
        </table>
        <span class="best-score">Tu mejor puntaje: <strong>3221</strong></span>
        <button (click)="Restart()">Volver al inicio</button>
    </section>
    }
</div>