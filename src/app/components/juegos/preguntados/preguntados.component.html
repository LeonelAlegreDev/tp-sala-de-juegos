<div id="viewport" #viewport>
    <!-- MODAL -->
    <div class="modal" (click)="onModalClick($event)" #modal>
        <div id="modal_card">
            <h2>{{ modalData.header }}</h2>
            <p>{{ modalData.body }}</p>
            <button (click)="Continuar()">{{ modalData.buttonText }}</button>
        </div>
    </div>
    @if(gameState === 'start'){
        <section class="screen screen-start">
            <h1>¿Cuál es ese Pokemon?</h1>
            <h2>¡Conviértete en un Maestro Pokémon!</h2>
            <p>
                Pon a prueba tu habilidad para reconocer pokemones de todas las regiones y descubre qué tan bien conoces la Pokédex. 
                <br>
                Con cada Pokémon que logres identificar, ¡estarás más cerca de ser el mejor entrenador!
                <br>
                <strong>¿Lograrás adivinarlos todos?</strong>
            </p>
            <button (click)="Start()">Jugar</button>
        </section>
    }
    @else{
        <section class="screen screen-playing">
            @if(gameState === 'girando'){
                <section class="container spin-screen">
                    <div id="info">
                        <div class="field">
                            <h2>Puntos:</h2>
                            <h2 class="valor">{{ run.puntos }}</h2>
                        </div>
                        <div class="field">
                            <h2>Racha de aciertos:</h2>
                            <h2 class="valor">{{ run.racha }}</h2>
                        </div>
                        <div class="field">
                            <h2>Mayor racha de aciertos:</h2>
                            <h2 class="valor">{{ run.maxRacha }}</h2>
                        </div>
                        <div class="field">
                            <h2>Preguntas acertadas:</h2>
                            <h2 class="valor">{{ run.preguntasAcertadas }}</h2>
                        </div>
                        <div class="field">
                            <h2>Preguntas respondidas:</h2>
                            <h2 class="valor">{{ run.preguntasRespondidas }}</h2>
                        </div>
                        <div class="field">
                            <h2>Vidas</h2>
                            <h2 class="valor">{{ run.vidas }}</h2>
                        </div>
                    
                    </div>
                    
                    <div id="buttonContainer">
                        <button (click)="Responder()" [disabled]="!canSpin">Siguiente Pregunta</button>
                    </div>                    
                </section>
            }
            @else if (gameState === 'respondiendo') {
                <section class="container answer-screen">
                    <div class="pregunta">
                        @if(pregunta.img !== ''){
                          <h2>{{ pregunta.consigna }}</h2>
                          <div class="img" [ngStyle]="{'background-image': 'url(' + pregunta.img+ ')'}"></div>
                        }
                        @else {
                            <h2>{{ pregunta.consigna }}</h2>
                        }
                    </div>
                    <div class="opciones">
                        <span class="opcion" (click)="ElegirOpcion(pregunta.opciones[0])">{{ pregunta.opciones[0] }}</span>
                        <span class="opcion" (click)="ElegirOpcion(pregunta.opciones[1])">{{ pregunta.opciones[1] }}</span>
                        <span class="opcion" (click)="ElegirOpcion(pregunta.opciones[2])">{{ pregunta.opciones[2] }}</span>
                        <span class="opcion" (click)="ElegirOpcion(pregunta.opciones[3])">{{ pregunta.opciones[3] }}</span>
                    </div>
                </section>
            }

        </section>
    }
</div>